<!DOCTYPE html>
<html lang="en">

    <head>
        {% include 'header.twig' %}

        <script src="/js/xloadtree/xtree2.js" type="text/javascript"></script>
        <script src="/js/xloadtree/xloadtree2.js" type="text/javascript"></script>
        <style type="text/css">
        .webfx-tree-children {
            background-image: url("{{icons.I}}");
        }
        
        body {
            background-color: #F5F5F7 !important;
        }
        </style>
    </head>

    <body>

        <div dir="ltr">

            <div class="logo">
                <a href="/src/views/intro.php" target="detail">{{appName}}</a>
            </div>
            <div class="refreshTree">
                <a href="/tree/browser" target="browser">
                    <img src="{{icon.Refresh}}" alt="{{strrefresh}}" title="{{strrefresh}}" />
                </a>
            </div>

        </div>
        <script type="text/javascript">
        webFXTreeConfig.folderIcon = "";
        webFXTreeConfig.openFolderIcon = "";
        webFXTreeConfig.fileIcon = "";
        webFXTreeConfig.rootIcon = "{{icon.Servers}}";
        webFXTreeConfig.openRootIcon = "{{icon.Servers}}";
        webFXTreeConfig.iIcon = "{{icon.I}}";
        webFXTreeConfig.lIcon = "{{icon.L}}";
        webFXTreeConfig.lMinusIcon = "{{icon.Lminus}}";
        webFXTreeConfig.lPlusIcon = "{{icon.Lplus}}";
        webFXTreeConfig.tIcon = "{{icon.T}}";
        webFXTreeConfig.tMinusIcon = "{{icon.Tminus}}";
        webFXTreeConfig.tPlusIcon = "{{icon.Tplus}}";
        webFXTreeConfig.blankIcon = "{{icon.blank}}";
        webFXTreeConfig.loadingIcon = "{{icon.Loading}}";
        webFXTreeConfig.errorIcon = "{{icon.ObjectNotFound}}";
        webFXTreeConfig.loadingText = "{{strloading}}";
        webFXTreeConfig.errorLoadingText = "{{strerrorloading}}";
        webFXTreeConfig.reloadText = "{{strclicktoreload}}";
        // Set default target frame:
        WebFXTreeAbstractNode.prototype.target = 'detail';
        // Disable double click:
        WebFXTreeAbstractNode.prototype._ondblclick = function() {}
            // Show tree XML on double click - for debugging purposes only
            /*
            // UNCOMMENT THIS FOR DEBUGGING (SHOWS THE SOURCE XML)
            WebFXTreeAbstractNode.prototype._ondblclick = function(e){
                var el = e.target || e.srcElement;

                if (this.src != null)
                    window.open(this.src, this.target || "_self");
                return false;
            };
            */
            //var tree = new WebFXLoadTree("{{strservers}}", "/tree/servers" /* src for sub branches */ , "/src/views/servers.php" /* action */ );
        var tree = new WebFXLoadTree("{{strservers}}", "/src/views/servers.php?action=tree" /* src for sub branches */ , "servers.php" /* action */ );
        tree.write();
        tree.setExpanded(true);
        </script>

    </body>

</html>
